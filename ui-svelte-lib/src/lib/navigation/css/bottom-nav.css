@layer components {
	.bottomnav {
		@apply flex items-center justify-around;
		@apply shadow-lg;

		&.is-fixed {
			@apply fixed bottom-0 left-0 right-0 z-50;
			padding-bottom: env(safe-area-inset-bottom);
		}

		&.is-bordered {
			@apply border-t border-muted;
		}

		&.is-soft {
			&.is-primary {
				@apply bg-on-primary text-primary;
			}
			&.is-secondary {
				@apply bg-on-secondary text-secondary;
			}
			&.is-muted {
				@apply bg-muted text-on-muted;
			}
			&.is-success {
				@apply bg-on-success text-success;
			}
			&.is-info {
				@apply bg-on-info text-info;
			}
			&.is-warning {
				@apply bg-on-warning text-warning;
			}
			&.is-danger {
				@apply bg-on-danger text-danger;
			}
			&.is-default {
				@apply bg-background text-on-background;
			}
			&.is-surface {
				@apply bg-surface text-on-surface;
			}
		}

		&.is-solid {
			&.is-primary {
				@apply bg-primary text-on-primary;
			}
			&.is-secondary {
				@apply bg-secondary text-on-secondary;
			}
			&.is-muted {
				@apply bg-on-muted text-muted;
			}
			&.is-success {
				@apply bg-success text-on-success;
			}
			&.is-info {
				@apply bg-info text-on-info;
			}
			&.is-warning {
				@apply bg-warning text-on-warning;
			}
			&.is-danger {
				@apply bg-danger text-on-danger;
			}
			&.is-default {
				@apply bg-background text-on-background;
			}
			&.is-surface {
				@apply bg-surface text-on-surface;
			}
		}

		&.is-blur {
			@apply backdrop-blur-lg;

			&.is-primary {
				@apply bg-on-primary/80 text-primary;
			}
			&.is-secondary {
				@apply bg-on-secondary/80 text-secondary;
			}
			&.is-muted {
				@apply bg-muted/80 text-on-muted;
			}
			&.is-success {
				@apply bg-on-success/80 text-success;
			}
			&.is-info {
				@apply bg-on-info/80 text-info;
			}
			&.is-warning {
				@apply bg-on-warning/80 text-warning;
			}
			&.is-danger {
				@apply bg-on-danger/80 text-danger;
			}
			&.is-default {
				@apply bg-background/80 text-on-background;
			}
			&.is-surface {
				@apply bg-surface/80 text-on-surface;
			}
		}

		.bottomnav-item {
			@apply flex flex-col items-center justify-center gap-1;
			@apply flex-1 py-3 px-2;
			@apply cursor-pointer select-none outline-none;
			@apply transition-all duration-300;
			@apply relative;
			@apply text-current opacity-60;

			&.is-active {
				@apply opacity-100;
			}

			.bottomnav-icon-wrapper {
				@apply relative inline-flex;
			}

			.bottomnav-icon {
				@apply h-6 w-6 shrink-0;
				@apply transition-all duration-300;
			}

			.bottomnav-label {
				@apply text-xs font-medium whitespace-nowrap;
				@apply transition-all duration-300;
			}

			.bottomnav-badge {
				@apply absolute -top-1.5 -right-2;
				@apply min-w-4 h-4 px-1;
				@apply flex items-center justify-center;
				@apply text-[10px] font-bold;
				@apply bg-danger text-on-danger;
				@apply rounded-full;
			}

			&:hover {
				@apply opacity-80;
			}

			&.is-fab {
				@apply flex-none opacity-100;

				&:hover {
					@apply bg-transparent;
				}

				.bottomnav-icon-wrapper {
					@apply w-12 h-12 -mt-6;
					@apply flex items-center justify-center;
					@apply bg-primary text-on-primary;
					@apply rounded-full shadow-lg;
					@apply transition-all duration-300;
				}

				.bottomnav-icon {
					@apply h-6 w-6 text-on-primary;
				}

				&:hover .bottomnav-icon-wrapper {
					@apply shadow-xl shadow-primary/30;
					transform: translateY(-2px);
				}

				&:active .bottomnav-icon-wrapper {
					transform: translateY(0);
					@apply shadow-md;
				}
			}
		}

		&.active-line {
			.bottomnav-item {
				&::after {
					content: '';
					@apply absolute bottom-0 left-1/2 -translate-x-1/2;
					@apply w-0 h-0.5 rounded-full;
					@apply bg-current;
					@apply transition-all duration-300;
				}

				&.is-active::after {
					@apply w-8;
				}
			}
		}

		&.active-pill {
			.bottomnav-item {
				@apply relative isolate;

				&::before {
					content: '';
					@apply absolute inset-x-2 top-1 bottom-1;
					@apply rounded-xl;
					@apply bg-transparent;
					@apply transition-all duration-300;
					z-index: -1;
				}

				&.is-active:not(.is-fab)::before {
					@apply bg-current/10;
				}
			}

			&.is-solid .bottomnav-item.is-active:not(.is-fab)::before {
				@apply bg-white/20;
			}
		}

		&.is-sm {
			.bottomnav-item {
				@apply gap-0.5 py-2 px-1;

				.bottomnav-icon {
					@apply h-5 w-5;
				}

				.bottomnav-label {
					@apply text-[10px];
				}

				&.is-fab .bottomnav-icon-wrapper {
					@apply w-10 h-10 -mt-5;
				}
			}
		}

		&.is-md {
			.bottomnav-item {
				@apply gap-1 py-3 px-2;

				.bottomnav-icon {
					@apply h-6 w-6;
				}

				.bottomnav-label {
					@apply text-xs;
				}
			}
		}

		&.is-lg {
			.bottomnav-item {
				@apply gap-1.5 py-4 px-3;

				.bottomnav-icon {
					@apply h-7 w-7;
				}

				.bottomnav-label {
					@apply text-sm;
				}

				&.is-fab .bottomnav-icon-wrapper {
					@apply w-14 h-14 -mt-7;

					.bottomnav-icon {
						@apply h-7 w-7;
					}
				}
			}
		}

		&.is-icon-only {
			.bottomnav-item {
				@apply gap-0;

				.bottomnav-icon {
					@apply h-7 w-7;
				}
			}
		}
	}
}
