@layer components {
	.media {
		@apply relative flex items-center w-full gap-3 rounded-box;
		@apply transition-colors duration-300 ease-in-out;
		@apply px-3 py-1.5 select-none;

		&.is-soft {
			&.is-primary {
				@apply bg-soft-primary text-primary;
			}
			&.is-secondary {
				@apply bg-soft-secondary text-secondary;
			}
			&.is-muted {
				@apply bg-soft-muted text-on-muted;
			}
			&.is-success {
				@apply bg-soft-success text-success;
			}
			&.is-info {
				@apply bg-soft-info text-info;
			}
			&.is-warning {
				@apply bg-soft-warning text-warning;
			}
			&.is-danger {
				@apply bg-soft-danger text-danger;
			}
		}

		&.is-solid {
			&.is-primary {
				@apply bg-primary text-on-primary;
			}
			&.is-secondary {
				@apply bg-secondary text-on-secondary;
			}
			&.is-muted {
				@apply bg-on-muted text-muted;
			}
			&.is-success {
				@apply bg-success text-on-success;
			}
			&.is-info {
				@apply bg-info text-on-info;
			}
			&.is-warning {
				@apply bg-warning text-on-warning;
			}
			&.is-danger {
				@apply bg-danger text-on-danger;
			}
		}
	}

	.media-waveform {
		@apply w-full shrink-0 h-8 flex items-center relative pt-4;
	}

	.media-loading {
		@apply text-xs opacity-50;
	}

	.media-bars {
		@apply flex items-center gap-0.5 w-full h-full;
	}

	.media-bar {
		@apply flex-1 rounded-sm transition-all duration-300;
		@apply min-h-1 bg-current opacity-30;
	}

	.media-bar.active {
		@apply opacity-100;
	}

	.media-bar.recording {
		@apply opacity-100 animate-pulse;
	}

	.media-bar.loading {
		animation: shimmer 1.5s ease-in-out infinite;
	}

	@keyframes shimmer {
		0%,
		100% {
			opacity: 0.15;
		}
		50% {
			opacity: 0.35;
		}
	}

	.media-bars.loading .media-bar:nth-child(odd) {
		animation-delay: 0.2s;
	}
	.media-bars.loaded .media-bar {
		animation: wave-appear 0.4s ease-out forwards;
	}

	@keyframes wave-appear {
		from {
			opacity: 0;
			transform: scaleY(0.3);
		}
		to {
			opacity: 0.3;
			transform: scaleY(1);
		}
	}

	.media-bars.loaded .media-bar.active {
		animation: wave-appear-active 0.4s ease-out forwards;
	}

	@keyframes wave-appear-active {
		from {
			opacity: 0;
			transform: scaleY(0.3);
		}
		to {
			opacity: 1;
			transform: scaleY(1);
		}
	}

	.media-content {
		@apply flex-1 flex flex-col gap-0.5;
	}

	.media-footer {
		@apply flex items-center justify-between text-xs opacity-70;
	}

	.media-time {
		@apply shrink-0 font-medium;
	}

	.media-subtitle {
		@apply truncate;
	}
}
