@layer components {
	/* Base styles compartidos */
	.media {
		@apply relative flex items-center w-full gap-3 rounded-box;
		@apply transition-colors duration-300 ease-in-out;
		@apply p-3 select-none;
	}

	.media-waveform {
		@apply flex-1 h-10 flex items-center relative;
	}

	.media-waveform.clickable {
		@apply cursor-pointer;
	}

	.media-loading {
		@apply text-xs opacity-50;
	}

	.media-bars {
		@apply flex items-center gap-0.5 w-full h-full;
	}

	.media-bar {
		@apply flex-1 rounded-sm transition-all duration-300;
		@apply min-h-1 bg-current opacity-30;
	}

	.media-bar.active {
		@apply opacity-100;
	}

	.media-bar.recording {
		@apply opacity-100 animate-pulse;
	}

	/* Loading placeholder bars with shimmer animation */
	.media-bar.loading {
		animation: shimmer 1.5s ease-in-out infinite;
	}

	@keyframes shimmer {
		0%,
		100% {
			opacity: 0.15;
		}
		50% {
			opacity: 0.35;
		}
	}

	/* Stagger animation for loading bars */
	.media-bars.loading .media-bar:nth-child(odd) {
		animation-delay: 0.2s;
	}

	/* Fade-in animation when waves are loaded */
	.media-bars.loaded .media-bar {
		animation: wave-appear 0.4s ease-out forwards;
	}

	@keyframes wave-appear {
		from {
			opacity: 0;
			transform: scaleY(0.3);
		}
		to {
			opacity: 0.3;
			transform: scaleY(1);
		}
	}

	.media-bars.loaded .media-bar.active {
		animation: wave-appear-active 0.4s ease-out forwards;
	}

	@keyframes wave-appear-active {
		from {
			opacity: 0;
			transform: scaleY(0.3);
		}
		to {
			opacity: 1;
			transform: scaleY(1);
		}
	}

	.media-time {
		@apply shrink-0 text-sm font-medium min-w-10 text-right;
	}

	/* Variantes */
	.media.primary {
		@apply bg-primary text-on-primary;
	}

	.media.secondary {
		@apply bg-secondary text-on-secondary;
	}

	.media.soft {
		@apply bg-on-primary text-primary;
	}

	.media.outlined {
		@apply inset-ring inset-ring-muted bg-background text-on-background;
	}

	.media.ghost {
		@apply bg-transparent text-on-background;
	}

	.media.success {
		@apply bg-success text-on-success;
	}

	.media.warning {
		@apply bg-warning text-on-warning;
	}

	.media.info {
		@apply bg-info text-on-info;
	}

	.media.danger {
		@apply bg-danger text-on-danger;
	}
}
