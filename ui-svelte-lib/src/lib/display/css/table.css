@layer components {
	.table-wrapper {
		@apply column gap-2 justify-between;
	}

	.table-container {
		@apply relative w-full overflow-x-auto;
	}

	.table {
		@apply relative w-full text-left rtl:text-right;

		.table-header {
			@apply bg-muted whitespace-nowrap text-sm font-semibold rounded-box;

			th {
				&:first-child {
					@apply rounded-l-box pl-6;
				}
				&:last-child {
					@apply rounded-r-box;
				}
			}
		}

		.table-head {
			@apply py-3 px-4 text-left text-sm font-semibold;

			&.sortable {
				@apply cursor-pointer select-none;

				&:hover .table-sort-btn {
					@apply opacity-80;
				}
			}
		}

		.table-head-content {
			@apply flex items-center gap-1;
		}

		.table-head-label {
			@apply shrink-0;
		}

		.table-body {
			tr {
				@apply transition-colors duration-150;
			}

			td {
				@apply px-4 py-4 text-sm whitespace-nowrap;

				&:first-child {
					@apply pl-6;
				}
			}
		}
	}

	.table {
		&.has-dividers .table-body {
			@apply divide-y divide-muted/40;
		}
		&.is-striped tbody tr {
			&:nth-child(even) {
				@apply bg-muted/50;

				td:first-child {
					@apply rounded-l-box;
				}
				td:last-child {
					@apply rounded-r-box;
				}
			}

			&:hover {
				@apply bg-muted/70;
			}
		}

		&.is-bordered {
			@apply border border-muted/40 rounded-lg overflow-hidden;

			.table-body tr td {
				@apply border-r border-muted/40;

				&:last-child {
					@apply border-r-0;
				}
			}
		}
	}

	.table {
		&.is-sm {
			.table-head {
				@apply text-xs py-2 px-3;
			}
			.table-body td {
				@apply text-xs py-2 px-3;

				&:first-child {
					@apply pl-4;
				}
			}
		}

		&.is-md {
			.table-head {
				@apply text-sm py-3 px-4;
			}
			.table-body td {
				@apply text-sm py-4 px-4;

				&:first-child {
					@apply pl-6;
				}
			}
		}

		&.is-lg {
			.table-head {
				@apply text-base py-4 px-5;
			}
			.table-body td {
				@apply text-base py-5 px-5;

				&:first-child {
					@apply pl-7;
				}
			}
		}
	}

	.table {
		&.is-primary {
			.table-header {
				@apply bg-primary/10;
			}
			.table-head {
				@apply text-primary;
			}
			.table-row-selected {
				@apply bg-primary/10;
				&:hover {
					@apply bg-primary/15;
				}
			}
			.table-head.sorted {
				@apply text-primary;
			}
			.table-sort-btn.is-active {
				@apply text-primary;
			}
		}

		&.is-secondary {
			.table-header {
				@apply bg-secondary/10;
			}
			.table-head {
				@apply text-secondary;
			}
			.table-row-selected {
				@apply bg-secondary/10;
				&:hover {
					@apply bg-secondary/15;
				}
			}
			.table-head.sorted {
				@apply text-secondary;
			}
			.table-sort-btn.is-active {
				@apply text-secondary;
			}
		}

		&.is-muted {
			.table-header {
				@apply bg-muted/50;
			}
			.table-head {
				@apply text-on-muted;
			}
			.table-row-selected {
				@apply bg-muted/30;
				&:hover {
					@apply bg-muted/40;
				}
			}
		}

		&.is-success {
			.table-header {
				@apply bg-success/10;
			}
			.table-head {
				@apply text-success;
			}
			.table-row-selected {
				@apply bg-success/10;
				&:hover {
					@apply bg-success/15;
				}
			}
			.table-head.sorted {
				@apply text-success;
			}
			.table-sort-btn.is-active {
				@apply text-success;
			}
		}

		&.is-info {
			.table-header {
				@apply bg-info/10;
			}
			.table-head {
				@apply text-info;
			}
			.table-row-selected {
				@apply bg-info/10;
				&:hover {
					@apply bg-info/15;
				}
			}
			.table-head.sorted {
				@apply text-info;
			}
			.table-sort-btn.is-active {
				@apply text-info;
			}
		}

		&.is-danger {
			.table-header {
				@apply bg-danger/10;
			}
			.table-head {
				@apply text-danger;
			}
			.table-row-selected {
				@apply bg-danger/10;
				&:hover {
					@apply bg-danger/15;
				}
			}
			.table-head.sorted {
				@apply text-danger;
			}
			.table-sort-btn.is-active {
				@apply text-danger;
			}
		}

		&.is-warning {
			.table-header {
				@apply bg-warning/10;
			}
			.table-head {
				@apply text-warning;
			}
			.table-row-selected {
				@apply bg-warning/10;
				&:hover {
					@apply bg-warning/15;
				}
			}
			.table-head.sorted {
				@apply text-warning;
			}
			.table-sort-btn.is-active {
				@apply text-warning;
			}
		}
	}

	.table-selection-bar {
		&.is-primary {
			@apply bg-primary/10 border-primary/20;
			.table-selection-count {
				@apply text-primary;
			}
		}

		&.is-secondary {
			@apply bg-secondary/10 border-secondary/20;
			.table-selection-count {
				@apply text-secondary;
			}
		}

		&.is-muted {
			@apply bg-muted/50 border-muted/30;
			.table-selection-count {
				@apply text-on-muted;
			}
		}

		&.is-success {
			@apply bg-success/10 border-success/20;
			.table-selection-count {
				@apply text-success;
			}
		}

		&.is-info {
			@apply bg-info/10 border-info/20;
			.table-selection-count {
				@apply text-info;
			}
		}

		&.is-danger {
			@apply bg-danger/10 border-danger/20;
			.table-selection-count {
				@apply text-danger;
			}
		}

		&.is-warning {
			@apply bg-warning/10 border-warning/20;
			.table-selection-count {
				@apply text-warning;
			}
		}
	}

	.table-body tr.is-clickable {
		@apply cursor-pointer;

		&:active {
			@apply bg-muted/40;
		}
	}

	.table-loading-row {
		@apply animate-pulse;
	}

	.skeleton-loader {
		@apply h-4 bg-muted/50 rounded-md animate-pulse;
	}

	.skeleton-checkbox {
		@apply w-4 h-4 rounded-sm;
	}

	.table-empty-row {
		@apply border-0;
	}

	.table-empty-cell {
		@apply border-0 py-12;
	}

	.empty-state {
		@apply flex flex-col items-center justify-center gap-4 text-center;
	}

	.empty-icon {
		@apply text-on-muted/40;

		.empty-state-icon {
			@apply w-16 h-16;
		}
	}

	.empty-content {
		@apply flex flex-col gap-1;
	}

	.empty-title {
		@apply text-lg font-semibold text-on-background;
	}

	.empty-description {
		@apply text-sm text-on-muted;
	}

	.table-checkbox-cell {
		@apply w-12 pl-4 pr-2;
	}

	.table-checkbox {
		@apply m-0;

		&.is-indeterminate input {
			@apply opacity-60;
		}
	}

	.table-row-selected {
		@apply bg-primary/10;

		&:hover {
			@apply bg-primary/15;
		}
	}

	.table-selection-bar {
		@apply flex items-center justify-between gap-4 px-4 py-3 bg-primary/10 border border-primary/20 rounded-box mb-3;

		@media (max-width: 640px) {
			@apply flex-col items-start gap-3;
		}
	}

	.table-selection-info {
		@apply flex items-center gap-4;
	}

	.table-selection-count {
		@apply text-sm font-medium text-primary;
	}

	.table-selection-actions {
		@apply flex items-center gap-2;

		@media (max-width: 640px) {
			@apply w-full justify-start;
		}
	}

	.table-toolbar {
		@apply flex items-center justify-between gap-4 py-2 flex-wrap;

		@media (max-width: 640px) {
			@apply flex-col items-stretch;
		}
	}

	.table-toolbar-start {
		@apply flex items-center gap-3 flex-1 min-w-[200px];

		.table-toolbar-search {
			@apply max-w-xs;
		}

		@media (max-width: 640px) {
			@apply w-full justify-between;
		}
	}

	.table-toolbar-end {
		@apply flex items-center gap-3;

		@media (max-width: 640px) {
			@apply w-full justify-between;
		}
	}

	.table-search {
		@apply min-w-full max-w-full md:min-w-xs md:max-w-xs;
	}

	.table-footer-info {
		@apply flex items-center justify-between gap-4 px-2 py-3;
	}

	.table-total {
		@apply text-sm text-on-muted whitespace-nowrap;
	}

	.table-rows-per-page {
		@apply flex items-center gap-2;
	}

	.table-rows-per-page-label {
		@apply text-sm text-on-muted whitespace-nowrap;
	}

	.table-rows-per-page-select {
		@apply min-w-[70px];
	}
}
