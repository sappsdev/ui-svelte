@layer components {
	.collapsible {
		@apply w-full transition-all duration-300 rounded-lg overflow-hidden;

		&.is-disabled {
			@apply opacity-50 pointer-events-none;
		}

		.collapsible-header {
			@apply flex justify-between items-center gap-3 px-4 py-3 cursor-pointer select-none transition-all duration-300;

			.collapsible-start {
				@apply flex items-center gap-3 flex-1;

				.collapsible-icon {
					@apply h-5 w-auto shrink-0;
				}

				.collapsible-label {
					@apply font-medium text-sm;
				}
			}

			.collapsible-end {
				@apply flex items-center;

				.collapsible-arrow {
					@apply size-5 transition-all duration-300 text-on-muted;
					&.is-active {
						@apply rotate-180 text-current;
					}
				}
			}

			&:hover:not(.is-disabled) {
				.collapsible-arrow {
					@apply text-current;
				}
			}

			&.is-open {
				.collapsible-arrow {
					@apply text-current;
				}
			}
		}

		.collapsible-content {
			@apply px-4 py-3 text-sm text-on-surface/80;
		}

		&.is-ghost {
			@apply border border-transparent;

			.collapsible-header {
				.collapsible-label {
					@apply font-normal;
				}

				&:hover .collapsible-label {
					@apply font-semibold;
				}
			}

			.collapsible-header.is-open .collapsible-label {
				@apply font-semibold;
			}

			&.is-primary {
				.collapsible-header:hover {
					@apply text-primary;
				}
				.collapsible-header.is-open {
					@apply text-primary;
				}
			}
			&.is-secondary {
				.collapsible-header:hover {
					@apply text-secondary;
				}
				.collapsible-header.is-open {
					@apply text-secondary;
				}
			}
			&.is-muted {
				.collapsible-header:hover {
					@apply text-on-muted;
				}
				.collapsible-header.is-open {
					@apply text-on-muted;
				}
			}
			&.is-success {
				.collapsible-header:hover {
					@apply text-success;
				}
				.collapsible-header.is-open {
					@apply text-success;
				}
			}
			&.is-info {
				.collapsible-header:hover {
					@apply text-info;
				}
				.collapsible-header.is-open {
					@apply text-info;
				}
			}
			&.is-warning {
				.collapsible-header:hover {
					@apply text-warning;
				}
				.collapsible-header.is-open {
					@apply text-warning;
				}
			}
			&.is-danger {
				.collapsible-header:hover {
					@apply text-danger;
				}
				.collapsible-header.is-open {
					@apply text-danger;
				}
			}
			&.is-surface {
				.collapsible-header:hover {
					@apply text-on-surface;
				}
				.collapsible-header.is-open {
					@apply text-on-surface;
				}
			}
			&.is-default {
				.collapsible-header:hover {
					@apply text-on-muted;
				}
				.collapsible-header.is-open {
					@apply text-on-muted;
				}
			}
		}

		&.is-soft {
			@apply border border-transparent;

			&.is-primary {
				@apply bg-soft-primary/50;
				.collapsible-header:hover {
					@apply bg-soft-primary/80;
				}
				.collapsible-header.is-open {
					@apply bg-soft-primary text-primary;
				}
			}
			&.is-secondary {
				@apply bg-soft-secondary/50;
				.collapsible-header:hover {
					@apply bg-soft-secondary/80;
				}
				.collapsible-header.is-open {
					@apply bg-soft-secondary text-secondary;
				}
			}
			&.is-muted {
				@apply bg-soft-muted/30;
				.collapsible-header:hover {
					@apply bg-soft-muted/50;
				}
				.collapsible-header.is-open {
					@apply bg-soft-muted text-on-muted;
				}
			}
			&.is-success {
				@apply bg-soft-success/50;
				.collapsible-header:hover {
					@apply bg-soft-success/80;
				}
				.collapsible-header.is-open {
					@apply bg-soft-success text-success;
				}
			}
			&.is-info {
				@apply bg-soft-info/50;
				.collapsible-header:hover {
					@apply bg-soft-info/80;
				}
				.collapsible-header.is-open {
					@apply bg-soft-info text-info;
				}
			}
			&.is-warning {
				@apply bg-soft-warning/50;
				.collapsible-header:hover {
					@apply bg-soft-warning/80;
				}
				.collapsible-header.is-open {
					@apply bg-soft-warning text-warning;
				}
			}
			&.is-danger {
				@apply bg-soft-danger/50;
				.collapsible-header:hover {
					@apply bg-soft-danger/80;
				}
				.collapsible-header.is-open {
					@apply bg-soft-danger text-danger;
				}
			}
			&.is-surface {
				@apply bg-surface/50;
				.collapsible-header:hover {
					@apply bg-surface/80;
				}
				.collapsible-header.is-open {
					@apply bg-surface text-on-surface;
				}
			}
			&.is-background {
				@apply bg-background/20;
				.collapsible-header:hover {
					@apply bg-background/30;
				}
				.collapsible-header.is-open {
					@apply bg-background/50;
				}
			}
		}

		&.is-solid {
			@apply border border-transparent;

			&.is-primary {
				.collapsible-header:hover {
					@apply bg-primary/20;
				}
				.collapsible-header.is-open {
					@apply bg-primary text-on-primary;
				}
			}
			&.is-secondary {
				.collapsible-header:hover {
					@apply bg-secondary/20;
				}
				.collapsible-header.is-open {
					@apply bg-secondary text-on-secondary;
				}
			}
			&.is-muted {
				.collapsible-header:hover {
					@apply bg-muted/50;
				}
				.collapsible-header.is-open {
					@apply bg-on-muted text-muted;
				}
			}
			&.is-success {
				.collapsible-header:hover {
					@apply bg-success/20;
				}
				.collapsible-header.is-open {
					@apply bg-success text-on-success;
				}
			}
			&.is-info {
				.collapsible-header:hover {
					@apply bg-info/20;
				}
				.collapsible-header.is-open {
					@apply bg-info text-on-info;
				}
			}
			&.is-warning {
				.collapsible-header:hover {
					@apply bg-warning/20;
				}
				.collapsible-header.is-open {
					@apply bg-warning text-on-warning;
				}
			}
			&.is-danger {
				.collapsible-header:hover {
					@apply bg-danger/20;
				}
				.collapsible-header.is-open {
					@apply bg-danger text-on-danger;
				}
			}
			&.is-surface {
				.collapsible-header:hover {
					@apply bg-surface/50;
				}
				.collapsible-header.is-open {
					@apply bg-surface text-on-surface;
				}
			}
			&.is-background {
				.collapsible-header:hover {
					@apply bg-background/50;
				}
				.collapsible-header.is-open {
					@apply bg-background text-on-background;
				}
			}
		}

		&.is-outlined {
			&.is-primary {
				@apply border border-primary/30;
				.collapsible-header:hover {
					@apply bg-primary/10;
				}
				.collapsible-header.is-open {
					@apply bg-primary/20 text-primary;
				}
			}
			&.is-secondary {
				@apply border border-secondary/30;
				.collapsible-header:hover {
					@apply bg-secondary/10;
				}
				.collapsible-header.is-open {
					@apply bg-secondary/20 text-secondary;
				}
			}
			&.is-muted {
				@apply border border-muted;
				.collapsible-header:hover {
					@apply bg-muted/30;
				}
				.collapsible-header.is-open {
					@apply bg-muted/50 text-on-muted;
				}
			}
			&.is-success {
				@apply border border-success/30;
				.collapsible-header:hover {
					@apply bg-success/10;
				}
				.collapsible-header.is-open {
					@apply bg-success/20 text-success;
				}
			}
			&.is-info {
				@apply border border-info/30;
				.collapsible-header:hover {
					@apply bg-info/10;
				}
				.collapsible-header.is-open {
					@apply bg-info/20 text-info;
				}
			}
			&.is-warning {
				@apply border border-warning/30;
				.collapsible-header:hover {
					@apply bg-warning/10;
				}
				.collapsible-header.is-open {
					@apply bg-warning/20 text-warning;
				}
			}
			&.is-danger {
				@apply border border-danger/30;
				.collapsible-header:hover {
					@apply bg-danger/10;
				}
				.collapsible-header.is-open {
					@apply bg-danger/20 text-danger;
				}
			}
			&.is-surface {
				@apply border border-on-surface/30;
				.collapsible-header:hover {
					@apply bg-surface/50;
				}
				.collapsible-header.is-open {
					@apply bg-surface text-on-surface;
				}
			}
			&.is-background {
				@apply border border-background;
				.collapsible-header:hover {
					@apply bg-background/30;
				}
				.collapsible-header.is-open {
					@apply bg-background;
				}
			}
		}
	}
}
