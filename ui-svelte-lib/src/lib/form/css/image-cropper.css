@layer components {
	.image-cropper-wrapper {
		@apply relative inline-flex flex-col items-center gap-2;
	}

	.image-cropper-avatar {
		@apply relative flex flex-col items-center justify-center;
		@apply border-2 border-dashed cursor-pointer;
		@apply transition-all duration-300;
		@apply overflow-hidden;
	}

	.image-cropper-avatar.is-circle {
		@apply rounded-full;
	}

	.image-cropper-avatar:not(.is-circle) {
		@apply rounded-ui;
	}

	.image-cropper-avatar.is-xs {
		@apply size-12;
	}

	.image-cropper-avatar.is-sm {
		@apply size-16;
	}

	.image-cropper-avatar.is-md {
		@apply size-24;
	}

	.image-cropper-avatar.is-lg {
		@apply size-32;
	}

	.image-cropper-avatar.is-xl {
		@apply size-40;
	}

	.image-cropper-avatar.is-soft {
		&.is-primary {
			@apply bg-soft-primary/10 text-primary border-primary/30;
		}
		&.is-secondary {
			@apply bg-soft-secondary/10 text-secondary border-secondary/30;
		}
		&.is-muted {
			@apply bg-soft-muted/50 text-on-muted border-muted;
		}
		&.is-success {
			@apply bg-soft-success/10 text-success border-success/30;
		}
		&.is-info {
			@apply bg-soft-info/10 text-info border-info/30;
		}
		&.is-warning {
			@apply bg-soft-warning/10 text-warning border-warning/30;
		}
		&.is-danger {
			@apply bg-soft-danger/10 text-danger border-danger/30;
		}
	}

	.image-cropper-avatar.is-outlined {
		@apply bg-transparent;

		&.is-primary {
			@apply border-primary text-primary;
		}
		&.is-secondary {
			@apply border-secondary text-secondary;
		}
		&.is-muted {
			@apply border-muted text-on-muted;
		}
		&.is-success {
			@apply border-success text-success;
		}
		&.is-info {
			@apply border-info text-info;
		}
		&.is-warning {
			@apply border-warning text-warning;
		}
		&.is-danger {
			@apply border-danger text-danger;
		}
	}

	.image-cropper-avatar.is-solid {
		&.is-primary {
			@apply bg-primary text-on-primary border-primary;
		}
		&.is-secondary {
			@apply bg-secondary text-on-secondary border-secondary;
		}
		&.is-muted {
			@apply bg-muted text-on-muted border-muted;
		}
		&.is-success {
			@apply bg-success text-on-success border-success;
		}
		&.is-info {
			@apply bg-info text-on-info border-info;
		}
		&.is-warning {
			@apply bg-warning text-on-warning border-warning;
		}
		&.is-danger {
			@apply bg-danger text-on-danger border-danger;
		}
	}

	.image-cropper-avatar.is-ghost {
		@apply bg-transparent border-transparent;

		&.is-primary {
			@apply text-primary;
		}
		&.is-secondary {
			@apply text-secondary;
		}
		&.is-muted {
			@apply text-on-muted;
		}
		&.is-success {
			@apply text-success;
		}
		&.is-info {
			@apply text-info;
		}
		&.is-warning {
			@apply text-warning;
		}
		&.is-danger {
			@apply text-danger;
		}
	}

	.image-cropper-avatar:hover:not(.is-disabled) {
		@apply border-solid;
		@apply scale-105;
	}

	.image-cropper-avatar.is-disabled {
		@apply opacity-50 cursor-not-allowed;
	}

	.image-cropper-avatar.is-error {
		@apply border-danger;
	}

	.image-cropper-icon {
		@apply size-6 opacity-70;
	}

	.image-cropper-avatar.is-xs .image-cropper-icon,
	.image-cropper-avatar.is-sm .image-cropper-icon {
		@apply size-4;
	}

	.image-cropper-avatar.is-lg .image-cropper-icon,
	.image-cropper-avatar.is-xl .image-cropper-icon {
		@apply size-8;
	}

	.image-cropper-placeholder {
		@apply text-xs opacity-70 text-center mt-1;
	}

	.image-cropper-avatar.is-xs .image-cropper-placeholder,
	.image-cropper-avatar.is-sm .image-cropper-placeholder {
		@apply hidden;
	}

	.image-cropper-preview {
		@apply absolute inset-0 w-full h-full object-cover;
	}
	.image-cropper-overlay-edit {
		@apply absolute inset-0 flex items-center justify-center;
		@apply bg-black/50 opacity-0 transition-opacity duration-300;
		@apply text-white;
	}

	.image-cropper-avatar:hover .image-cropper-overlay-edit {
		@apply opacity-100;
	}

	.image-cropper-actions {
		@apply flex gap-1;
	}
	.image-cropper-modal {
		@apply max-w-2xl w-full;
	}

	.image-cropper-modal-title {
		@apply text-lg font-semibold;
	}

	.image-cropper-modal-body {
		@apply flex flex-col gap-4;
	}

	.image-cropper-modal-footer {
		@apply flex items-center justify-end gap-2;
	}

	.image-cropper-container {
		@apply relative w-full overflow-hidden;
		@apply bg-muted rounded-ui;
		@apply flex items-center justify-center;
		min-height: 300px;
		max-height: 500px;
	}

	.image-cropper-image {
		@apply block max-w-full max-h-full;
		@apply select-none pointer-events-none;
		-webkit-user-drag: none;
	}

	.image-cropper-crop-overlay {
		@apply absolute pointer-events-none;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
	}

	.overlay-top,
	.overlay-bottom,
	.overlay-left,
	.overlay-right {
		@apply absolute bg-black/50 pointer-events-none;
	}

	.overlay-top {
		@apply left-0 right-0 top-0;
	}

	.overlay-bottom {
		@apply left-0 right-0;
	}

	.overlay-middle {
		@apply absolute left-0 right-0;
		@apply flex;
	}

	.overlay-left {
		@apply h-full;
	}

	.overlay-right {
		@apply absolute h-full;
	}

	.crop-area {
		@apply absolute pointer-events-auto;
		@apply border-2 border-primary;
		@apply cursor-move;
		@apply transition-shadow duration-300;
		box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-webkit-tap-highlight-color: transparent;
		touch-action: none;
	}

	.crop-area.is-circle {
		@apply rounded-full;
	}

	.crop-area:hover {
		@apply border-primary/80;
	}

	.crop-grid {
		@apply absolute inset-0 pointer-events-none;
		@apply opacity-0 transition-opacity duration-300;
	}

	.crop-area:hover .crop-grid,
	.crop-area:active .crop-grid {
		@apply opacity-100;
	}

	.grid-line {
		@apply absolute bg-primary/30;
	}

	.grid-line-v {
		@apply top-0 bottom-0 w-px;
	}

	.grid-line-h {
		@apply left-0 right-0 h-px;
	}

	.resize-handle {
		@apply absolute bg-primary border-2 border-background;
		@apply transition-all duration-300;
		@apply opacity-0;
		@apply z-10;
	}

	.crop-area:hover .resize-handle {
		@apply opacity-100;
	}

	.resize-handle.handle-nw {
		@apply -top-1 -left-1 w-3 h-3 cursor-nw-resize rounded-tl-sm;
	}

	.resize-handle.handle-n {
		@apply -top-1 left-1/2 -translate-x-1/2 w-8 h-2 cursor-n-resize rounded-t-sm;
	}

	.resize-handle.handle-ne {
		@apply -top-1 -right-1 w-3 h-3 cursor-ne-resize rounded-tr-sm;
	}

	.resize-handle.handle-e {
		@apply top-1/2 -translate-y-1/2 -right-1 w-2 h-8 cursor-e-resize rounded-r-sm;
	}

	.resize-handle.handle-se {
		@apply -bottom-1 -right-1 w-3 h-3 cursor-se-resize rounded-br-sm;
	}

	.resize-handle.handle-s {
		@apply -bottom-1 left-1/2 -translate-x-1/2 w-8 h-2 cursor-s-resize rounded-b-sm;
	}

	.resize-handle.handle-sw {
		@apply -bottom-1 -left-1 w-3 h-3 cursor-sw-resize rounded-bl-sm;
	}

	.resize-handle.handle-w {
		@apply top-1/2 -translate-y-1/2 -left-1 w-2 h-8 cursor-w-resize rounded-l-sm;
	}

	.resize-handle:hover {
		@apply scale-125 bg-primary/90;
	}

	@media (pointer: coarse) {
		.resize-handle {
			@apply opacity-100 w-5 h-5;
			touch-action: none;
		}

		.resize-handle.handle-n,
		.resize-handle.handle-s {
			@apply w-10 h-3;
		}

		.resize-handle.handle-e,
		.resize-handle.handle-w {
			@apply w-3 h-10;
		}
	}

	.image-cropper-canvas {
		@apply hidden;
	}

	@media (max-width: 640px) {
		.image-cropper-container {
			min-height: 250px;
		}

		.image-cropper-modal-footer {
			@apply flex-wrap justify-center;
		}
	}
}
